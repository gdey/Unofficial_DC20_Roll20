



<span>Player Name</span>
<input type="text" name="attr_playerName" placeholder="Enter Your Name">
<span>Character Name</span>
<input type="text" name="attr_character_name" placeholder="Enter Your Character's Name">
<span>Level</span>
<input type="number" name="attr_level" value="1">
<span>Combat Mastery</span>
<input type="text" name="attr_combatMastery" value="1" readonly>

<span>Prime</span>
<input type="number" name="attr_prime" value="-2" min="-2" />
<span>Save</span>
<input type="number" name="attr_primeSave" value="-2" readonly>
<input type="checkbox" name="attr_primeSaveMastery" value="1">
<span>Awareness</span>
<input type="checkbox" name="attr_awarenessMastery" value="2">
<input type="checkbox" name="attr_awarenessMastery" value="4">
<input type="checkbox" name="attr_awarenessMastery" value="6">
<input type="checkbox" name="attr_awarenessMastery" value="8">
<input type="checkbox" name="attr_awarenessMastery" value="10">
<input type="number" name="attr_awareness" value="-2" readonly>
<span>Might</span>
<input type="number" name="attr_might" value="-2" min="-2" />
<span>Save</span>
<input type="number" name="attr_mightSave" value="-2" readonly>
<input type="checkbox" name="attr_mightSaveMastery" value="1">
<span>Athletics</span>
<input type="checkbox" name="attr_athleticsMastery" value="2">
<input type="checkbox" name="attr_athleticsMastery" value="4">
<input type="checkbox" name="attr_athleticsMastery" value="6">
<input type="checkbox" name="attr_athleticsMastery" value="8">
<input type="checkbox" name="attr_athleticsMastery" value="10">
<input type="number" name="attr_athletics" value="-2" readonly>
<span>Intimidation</span>
<input type="checkbox" name="attr_intimidationMastery" value="2">
<input type="checkbox" name="attr_intimidationMastery" value="4">
<input type="checkbox" name="attr_intimidationMastery" value="6">
<input type="checkbox" name="attr_intimidationMastery" value="8">
<input type="checkbox" name="attr_intimidationMastery" value="10">
<input type="number" name="attr_intimidation" value="-2" readonly>
<span>Agility</span>
<input type="number" name="attr_agility" value="-2" min="-2" />
<span>Save</span>
<input type="number" name="attr_agilitySave" value="-2" readonly>
<input type="checkbox" name="attr_agilitySaveMastery" value="1">
<span>Acrobatics</span>
<input type="checkbox" name="attr_acrobaticsMastery" value="2">
<input type="checkbox" name="attr_acrobaticsMastery" value="4">
<input type="checkbox" name="attr_acrobaticsMastery" value="6">
<input type="checkbox" name="attr_acrobaticsMastery" value="8">
<input type="checkbox" name="attr_acrobaticsMastery" value="10">
<input type="number" name="attr_acrobatics" value="-2" readonly>
<span>Trickery</span>
<input type="checkbox" name="attr_trickeryMastery" value="2">
<input type="checkbox" name="attr_trickeryMastery" value="4">
<input type="checkbox" name="attr_trickeryMastery" value="6">
<input type="checkbox" name="attr_trickeryMastery" value="8">
<input type="checkbox" name="attr_trickeryMastery" value="10">
<input type="number" name="attr_trickery" value="-2" readonly>
<span>Stealth</span>
<input type="checkbox" name="attr_stealthMastery" value="2">
<input type="checkbox" name="attr_stealthMastery" value="4">
<input type="checkbox" name="attr_stealthMastery" value="6">
<input type="checkbox" name="attr_stealthMastery" value="8">
<input type="checkbox" name="attr_stealthMastery" value="10">
<input type="number" name="attr_stealth" value="-2" readonly>
<span>Charisma</span>
<input type="number" name="attr_charisma" value="-2" min="-2" />
<span>Save</span>
<input type="number" name="attr_charismaSave" value="-2" readonly>
<input type="checkbox" name="attr_charismaSaveMastery" value="1">
<span>Animal</span>
<input type="checkbox" name="attr_animalMastery" value="2">
<input type="checkbox" name="attr_animalMastery" value="4">
<input type="checkbox" name="attr_animalMastery" value="6">
<input type="checkbox" name="attr_animalMastery" value="8">
<input type="checkbox" name="attr_animalMastery" value="10">
<input type="number" name="attr_animal" value="-2" readonly>
<span>Influence</span>
<input type="checkbox" name="attr_influenceMastery" value="2">
<input type="checkbox" name="attr_influenceMastery" value="4">
<input type="checkbox" name="attr_influenceMastery" value="6">
<input type="checkbox" name="attr_influenceMastery" value="8">
<input type="checkbox" name="attr_influenceMastery" value="10">
<input type="number" name="attr_influence" value="-2" readonly>
<span>Stealth</span>
<input type="checkbox" name="attr_stealthMastery" value="2">
<input type="checkbox" name="attr_stealthMastery" value="4">
<input type="checkbox" name="attr_stealthMastery" value="6">
<input type="checkbox" name="attr_stealthMastery" value="8">
<input type="checkbox" name="attr_stealthMastery" value="10">
<input type="number" name="attr_stealth" value="-2" readonly>
<span>Intelligence</span>
<input type="number" name="attr_intelligence" value="-2" min="-2" />
<span>Save</span>
<input type="number" name="attr_intelligenceSave" value="-2" readonly>
<input type="checkbox" name="attr_intelligenceSaveMastery" value="1">
<span>Investigation</span>
<input type="checkbox" name="attr_investigationMastery" value="2">
<input type="checkbox" name="attr_investigationMastery" value="4">
<input type="checkbox" name="attr_investigationMastery" value="6">
<input type="checkbox" name="attr_investigationMastery" value="8">
<input type="checkbox" name="attr_investigationMastery" value="10">
<input type="number" name="attr_investigation" value="-2" readonly>
<span>Medicine</span>
<input type="checkbox" name="attr_medicineMastery" value="2">
<input type="checkbox" name="attr_medicineMastery" value="4">
<input type="checkbox" name="attr_medicineMastery" value="6">
<input type="checkbox" name="attr_medicineMastery" value="8">
<input type="checkbox" name="attr_medicineMastery" value="10">
<input type="number" name="attr_medicine" value="-2" readonly>
<span>Survival</span>
<input type="checkbox" name="attr_survivalMastery" value="2">
<input type="checkbox" name="attr_survivalMastery" value="4">
<input type="checkbox" name="attr_survivalMastery" value="6">
<input type="checkbox" name="attr_survivalMastery" value="8">
<input type="checkbox" name="attr_survivalMastery" value="10">
<input type="number" name="attr_survival" value="-2" readonly>
<span>Arcana</span>
<input type="checkbox" name="attr_arcanaMastery" value="2">
<input type="checkbox" name="attr_arcanaMastery" value="4">
<input type="checkbox" name="attr_arcanaMastery" value="6">
<input type="checkbox" name="attr_arcanaMastery" value="8">
<input type="checkbox" name="attr_arcanaMastery" value="10">
<input type="number" name="attr_arcana" value="-2" readonly>
<span>History</span>
<input type="checkbox" name="attr_historyMastery" value="2">
<input type="checkbox" name="attr_historyMastery" value="4">
<input type="checkbox" name="attr_historyMastery" value="6">
<input type="checkbox" name="attr_historyMastery" value="8">
<input type="checkbox" name="attr_historyMastery" value="10">
<input type="number" name="attr_history" value="-2" readonly>
<span>Nature</span>
<input type="checkbox" name="attr_natureMastery" value="2">
<input type="checkbox" name="attr_natureMastery" value="4">
<input type="checkbox" name="attr_natureMastery" value="6">
<input type="checkbox" name="attr_natureMastery" value="8">
<input type="checkbox" name="attr_natureMastery" value="10">
<input type="number" name="attr_nature" value="-2" readonly>
<span>Religion</span>
<input type="checkbox" name="attr_religionMastery" value="2">
<input type="checkbox" name="attr_religionMastery" value="4">
<input type="checkbox" name="attr_religionMastery" value="6">
<input type="checkbox" name="attr_religionMastery" value="8">
<input type="checkbox" name="attr_religionMastery" value="10">
<input type="number" name="attr_religion" value="-2" readonly>

<script type="text/worker">
on("change:level", () => {
	getAttrs(["level"], values => {
		const level = +values.level || 1;
		const mastery = Math.ceil(level / 2);

		setAttrs({
			combatMastery: mastery
		});
	});
})

	on("change:primeSaveMastery change:prime", () => {
		getAttrs(["prime", "combatMastery", "primeSaveMastery"], values => {
			const stat = +values.prime || 0;
			const cm = +values.combatMastery || 0;
			const sm = +values.primeSaveMastery || 0;
			let total = stat;

			if (values.primeSaveMastery == 1) {
				total = stat + cm;
			}

			setAttrs({
				"primeSave": total
			});
		});
	});
	on("change:mightSaveMastery change:might", () => {
		getAttrs(["might", "combatMastery", "mightSaveMastery"], values => {
			const stat = +values.might || 0;
			const cm = +values.combatMastery || 0;
			const sm = +values.mightSaveMastery || 0;
			let total = stat;

			if (values.mightSaveMastery == 1) {
				total = stat + cm;
			}

			setAttrs({
				"mightSave": total
			});
		});
	});
	on("change:agilitySaveMastery change:agility", () => {
		getAttrs(["agility", "combatMastery", "agilitySaveMastery"], values => {
			const stat = +values.agility || 0;
			const cm = +values.combatMastery || 0;
			const sm = +values.agilitySaveMastery || 0;
			let total = stat;

			if (values.agilitySaveMastery == 1) {
				total = stat + cm;
			}

			setAttrs({
				"agilitySave": total
			});
		});
	});
	on("change:charismaSaveMastery change:charisma", () => {
		getAttrs(["charisma", "combatMastery", "charismaSaveMastery"], values => {
			const stat = +values.charisma || 0;
			const cm = +values.combatMastery || 0;
			const sm = +values.charismaSaveMastery || 0;
			let total = stat;

			if (values.charismaSaveMastery == 1) {
				total = stat + cm;
			}

			setAttrs({
				"charismaSave": total
			});
		});
	});
	on("change:intelligenceSaveMastery change:intelligence", () => {
		getAttrs(["intelligence", "combatMastery", "intelligenceSaveMastery"], values => {
			const stat = +values.intelligence || 0;
			const cm = +values.combatMastery || 0;
			const sm = +values.intelligenceSaveMastery || 0;
			let total = stat;

			if (values.intelligenceSaveMastery == 1) {
				total = stat + cm;
			}

			setAttrs({
				"intelligenceSave": total
			});
		});
	});

		on("change:awarenessMastery change:prime", () => {
			getAttrs(["awarenessMastery", "prime"], values => {
				const stat = +values.prime || 0;
				const mastery = +values.awarenessMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"awareness": total
				});
			});
		});
		on("change:athleticsMastery change:might", () => {
			getAttrs(["athleticsMastery", "might"], values => {
				const stat = +values.might || 0;
				const mastery = +values.athleticsMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"athletics": total
				});
			});
		});
		on("change:intimidationMastery change:might", () => {
			getAttrs(["intimidationMastery", "might"], values => {
				const stat = +values.might || 0;
				const mastery = +values.intimidationMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"intimidation": total
				});
			});
		});
		on("change:acrobaticsMastery change:agility", () => {
			getAttrs(["acrobaticsMastery", "agility"], values => {
				const stat = +values.agility || 0;
				const mastery = +values.acrobaticsMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"acrobatics": total
				});
			});
		});
		on("change:trickeryMastery change:agility", () => {
			getAttrs(["trickeryMastery", "agility"], values => {
				const stat = +values.agility || 0;
				const mastery = +values.trickeryMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"trickery": total
				});
			});
		});
		on("change:stealthMastery change:agility", () => {
			getAttrs(["stealthMastery", "agility"], values => {
				const stat = +values.agility || 0;
				const mastery = +values.stealthMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"stealth": total
				});
			});
		});
		on("change:animalMastery change:charisma", () => {
			getAttrs(["animalMastery", "charisma"], values => {
				const stat = +values.charisma || 0;
				const mastery = +values.animalMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"animal": total
				});
			});
		});
		on("change:influenceMastery change:charisma", () => {
			getAttrs(["influenceMastery", "charisma"], values => {
				const stat = +values.charisma || 0;
				const mastery = +values.influenceMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"influence": total
				});
			});
		});
		on("change:stealthMastery change:charisma", () => {
			getAttrs(["stealthMastery", "charisma"], values => {
				const stat = +values.charisma || 0;
				const mastery = +values.stealthMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"stealth": total
				});
			});
		});
		on("change:investigationMastery change:intelligence", () => {
			getAttrs(["investigationMastery", "intelligence"], values => {
				const stat = +values.intelligence || 0;
				const mastery = +values.investigationMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"investigation": total
				});
			});
		});
		on("change:medicineMastery change:intelligence", () => {
			getAttrs(["medicineMastery", "intelligence"], values => {
				const stat = +values.intelligence || 0;
				const mastery = +values.medicineMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"medicine": total
				});
			});
		});
		on("change:survivalMastery change:intelligence", () => {
			getAttrs(["survivalMastery", "intelligence"], values => {
				const stat = +values.intelligence || 0;
				const mastery = +values.survivalMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"survival": total
				});
			});
		});
		on("change:arcanaMastery change:intelligence", () => {
			getAttrs(["arcanaMastery", "intelligence"], values => {
				const stat = +values.intelligence || 0;
				const mastery = +values.arcanaMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"arcana": total
				});
			});
		});
		on("change:historyMastery change:intelligence", () => {
			getAttrs(["historyMastery", "intelligence"], values => {
				const stat = +values.intelligence || 0;
				const mastery = +values.historyMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"history": total
				});
			});
		});
		on("change:natureMastery change:intelligence", () => {
			getAttrs(["natureMastery", "intelligence"], values => {
				const stat = +values.intelligence || 0;
				const mastery = +values.natureMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"nature": total
				});
			});
		});
		on("change:religionMastery change:intelligence", () => {
			getAttrs(["religionMastery", "intelligence"], values => {
				const stat = +values.intelligence || 0;
				const mastery = +values.religionMastery || 0;
				const total = stat + mastery;

				setAttrs({
					"religion": total
				});
			});
		});

//	on("clicked:character clicked:charmancer clicked:npc", eventInfo => {
//		getAttrs(["character", "charmancer", "npc"], values => {
//			const character = values.character;
//			const charmancer = values.charmancer;
//			const npc = values.npc;
//			const trigger = eventInfo.triggerName;
//			let output = {};
//
//			
//					output.character = trigger.includes("character") ? 1 : 0
//			
//					output.npc = trigger.includes("npc") ? 1 : 0
//			
//					output.charmancer = trigger.includes("charmancer") ? 1 : 0
//			
//
//			setAttrs(output);
//		});
//	});

	//on('change:attributes', () => {
		//getAttrs(['attributes'], values => {
			//const method = values.attributes;

			//setAttrs({
				//array: method === 'Standard Array' ? 1 : 0,
				//buy: method === 'Point Buy' ? 1 : 0,
				//roll: method === 'Roll Method' ? 1 : 0,
				//might: method === 'Point Buy' ? -2 : "none",
				//agility: method === 'Point Buy' ? -2 : "none",
				//intelligence: method === 'Point Buy' ? -2 : "none",
				//charisma: method === 'Point Buy' ? -2 : "none",
				//points: method === 'Point Buy' ? 12 : 0
			//});
		//});
	//});

//	
//		on('change:prime', eventInfo => {
//			getAttrs(['points', prime], values => {
//				console.log(eventInfo.previousValue, values.prime)
//				const prime = +values.prime || 0;
//				const previous = +eventInfo.previousValue || 0;
//				const difference = previous - prime;
//				const points = +values.points || 0;
//				const total = points - difference;
//
//				setAttrs({
//					points: total
//				});
//			});
//		});
//	
//		on('change:might', eventInfo => {
//			getAttrs(['points', might], values => {
//				console.log(eventInfo.previousValue, values.might)
//				const might = +values.might || 0;
//				const previous = +eventInfo.previousValue || 0;
//				const difference = previous - might;
//				const points = +values.points || 0;
//				const total = points - difference;
//
//				setAttrs({
//					points: total
//				});
//			});
//		});
//	
//		on('change:agility', eventInfo => {
//			getAttrs(['points', agility], values => {
//				console.log(eventInfo.previousValue, values.agility)
//				const agility = +values.agility || 0;
//				const previous = +eventInfo.previousValue || 0;
//				const difference = previous - agility;
//				const points = +values.points || 0;
//				const total = points - difference;
//
//				setAttrs({
//					points: total
//				});
//			});
//		});
//	
//		on('change:charisma', eventInfo => {
//			getAttrs(['points', charisma], values => {
//				console.log(eventInfo.previousValue, values.charisma)
//				const charisma = +values.charisma || 0;
//				const previous = +eventInfo.previousValue || 0;
//				const difference = previous - charisma;
//				const points = +values.points || 0;
//				const total = points - difference;
//
//				setAttrs({
//					points: total
//				});
//			});
//		});
//	
//		on('change:intelligence', eventInfo => {
//			getAttrs(['points', intelligence], values => {
//				console.log(eventInfo.previousValue, values.intelligence)
//				const intelligence = +values.intelligence || 0;
//				const previous = +eventInfo.previousValue || 0;
//				const difference = previous - intelligence;
//				const points = +values.points || 0;
//				const total = points - difference;
//
//				setAttrs({
//					points: total
//				});
//			});
//		});
//	
</script>

